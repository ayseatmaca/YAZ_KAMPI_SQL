<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="dadadada.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser query pragmas" current="2"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="927"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="books" custom_title="0" dock_id="2" table="4,5:mainbooks"/><dock_state state="000000ff00000000fd0000000100000002000001e7000003b7fc0100000002fb000000160064006f0063006b00420072006f00770073006500310100000000000005a90000000000000000fb000000160064006f0063006b00420072006f00770073006500320100000000000001e70000012900ffffff000001e70000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="books" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="0" mode="0"/></sort><column_widths><column index="1" value="35"/><column index="2" value="35"/><column index="3" value="46"/><column index="4" value="41"/><column index="5" value="36"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">CREATE TABLE books (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    author TEXT NOT NULL,
    genre TEXT,
    price REAL,
    publish_date DATE
);

--fiyat aralıgı 55 ile 100 arasındaki kitapları listeleyınız
SELECT*FROM books where price &gt;=55 and price&lt;=100;

--fiyat tütü Roman olan ve yazarı Dostoyevski olan kitapları listeleyiniz.
SELECT*from books where genre = 'Roman' and 'Fyodor Dostoyevski';

-- yayın yılı 1972 den büyük olan veya Türü Sosyoloji olan kitapları listeleyiniz.
SELECT*from books where publish_date&gt;1972;


-- Diğer Operatörler
-- BETWEEN , LİKE ,IN
--Fiyat aralığı 55 ile 150 arasındaki kitapları listeleyiniz.

SELECT*from books WHERE price BETWEEN 55 and 150;


-- ın komutu
SELECT*FROM books where genre IN ('Sosyoloji','Hikaye','Masal')

--Yazaar Dos ile baslayan bütün kütapları listeleyiniz.
SELECT*from books where author Like 'Fyo%'

--Yazar alanı arı ile biten bütün yazarları listeleyinz.
SELECT*from books where author like '%ski';

--Yazarlar içerisinde Dostoyevski geçen kitapları listeleyinzi.
SELECT*from books where author like '%Dostoyevski%'



ALTER TABLE books ADD COLUMN publish_date DATE;

UPDATE books SET publish_date = '1862-01-01' WHERE title = 'Sefiller';
UPDATE books SET publish_date = '1866-01-01' WHERE title = 'Suç ve Ceza';
UPDATE books SET publish_date = '1877-01-01' WHERE title = 'Anna Karenina';
UPDATE books SET publish_date = '1943-04-06' WHERE title = 'Küçük Prens';
UPDATE books SET publish_date = '1949-06-08' WHERE title = '1984';
UPDATE books SET publish_date = '1945-08-17' WHERE title = 'Hayvan Çiftliği';
UPDATE books SET publish_date = '1968-01-01' WHERE title = 'Şeker Portakalı';
UPDATE books SET publish_date = '1605-01-01' WHERE title = 'Don Kişot';
UPDATE books SET publish_date = '1995-01-01' WHERE title = 'Körlük';
UPDATE books SET publish_date = '1971-01-01' WHERE title = 'Tutunamayanlar';
UPDATE books SET publish_date = '1955-01-01' WHERE title = 'İnce Memed';
UPDATE books SET publish_date = '1922-01-01' WHERE title = 'Çalıkuşu';
UPDATE books SET publish_date = '1953-10-19' WHERE title = 'Fahrenheit 451';
UPDATE books SET publish_date = '1922-02-02' WHERE title = 'Ulysses';
UPDATE books SET publish_date = '1915-01-01' WHERE title = 'Dönüşüm';
UPDATE books SET publish_date = '1942-01-01' WHERE title = 'Satranç';
UPDATE books SET publish_date = '1880-01-01' WHERE title = 'Karamazov Kardeşler';
UPDATE books SET publish_date = '1856-01-01' WHERE title = 'Madame Bovary';
UPDATE books SET publish_date = '1960-07-11' WHERE title = 'Bülbülü Öldürmek';
UPDATE books SET publish_date = '1942-01-01' WHERE title = 'Yabancı';

-- Delete from Tabloadı where kolan şart 
Delete from books where id=10;

-- Update Tabloadı set kolan_bir ==değer2,kolan2=deger2;
Update books set price=150 where id = 4;

-- Price kolonunda %20 lik kdv oranı uygulayınızz.
UPDATE books set price = price*1.20

-- Books tablosunda kitapların fiyatlarının ortalamasını, toplamını,
-- minimumunu, maksimumunu ve sayısını gösterir

SELECT 
    AVG(price) AS Ortalam,
    SUM(price) AS Toplam,
    MIN(price) AS [Minimum fiyat],
    MAX(price) AS [Max],
    COUNT(*) AS [Eleman Sayısı]
FROM books;

--  Genre , Count()
--Select kolon , Aggregate_fonksiyon from tablo_adı group by kolan;

--Türe göre kitap sayısı
SELECT genre , count(*) as [Kitap sayısı]


from books group by genre order by [Kitap sayısı] desc ; 

--Türe göre ort / mın/max fıyatlar 
select genre , Avg(price) as [Ortalama] , Max(price) as [En büyük] , MIn(price ) as [en küçük],
count(*) as Eleman

from books group by genre ;

-- Yıl ve tür kolanlarına göre dağilim.
select 
publish_date , genre ,count(*)
from books 
group by publish_date , genre

-- türüne göre kitap fiyatlarının ortalasını alın 
--Gruplama ilemlerinde filtrelem gereken bir yer var ise where keywordu yerıne having keywordu kullanılır.
select 
genre ,Avg(price) as Ortalama
from books 
group by genre 
Having Ortalama &gt; 0; --Where yerine having kullanırız çnkü grouplama işlemlerinde where kullanamayız .


-- Fiyat aralığına göre gruplama .
SELECT
CASE
	WHEN price &lt;50 then '0-49'
	when price &lt;100 then '50-100'
	when price &lt;200 then '100-199'
	else '200+'
end 
as fiyat_araliği,
count(*) as Adet
from books 
Group by 
CASE
	WHEN price &lt;50 then '0-49'
	when price &lt;100 then '50-100'
	when price &lt;200 then '100-199'
	else '200+'
end 









</sql><current_tab id="0"/></tab_sql></sqlb_project>
